{"ast":null,"code":"import'../styles/main.css';import React,{Component,useState}from\"react\";import{useToast}from\"@chakra-ui/react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const toast=useToast();function handleSubmit(e){e.preventDefault();console.log(email,password);fetch(\"http://localhost:8080/users/login\",{method:\"POST\",crossDomain:true,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({email,password})}).then(res=>res.json()).then(data=>{console.log(data,\"userRegister\");if(data.accessToken){window.localStorage.setItem(\"email\",email);window.localStorage.setItem(\"token\",data.accessToken);window.localStorage.setItem(\"loggedIn\",true);toast({title:\"Login Successful\",description:\"You have successfully logged in.\",status:\"success\",duration:5000,isClosable:true});window.location.href=\"/\";}else{alert(\"user not found\");}}).catch(err=>{console.log(err);});}return/*#__PURE__*/_jsx(\"div\",{className:\"auth-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"auth-inner\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter email\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter password\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck1\",children:\"Remember me\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"forgot-password text-right\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't Have Account - \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Sign Up\"})]})})]})})});}","map":{"version":3,"names":["React","Component","useState","useToast","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","toast","handleSubmit","e","preventDefault","console","log","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","then","res","json","data","accessToken","window","localStorage","setItem","title","description","status","duration","isClosable","location","href","alert","catch","err","className","children","onSubmit","type","placeholder","onChange","target","value","id","htmlFor"],"sources":["C:/Users/Admin/Desktop/GeoData/App/Client/src/components/Login.js"],"sourcesContent":["import '../styles/main.css';\r\nimport React, { Component, useState } from \"react\";\r\nimport { useToast } from \"@chakra-ui/react\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const toast = useToast();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(email, password);\r\n    fetch(\"http://localhost:8080/users/login\", {\r\n      method: \"POST\",\r\n      crossDomain: true,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data, \"userRegister\");\r\n        if (data.accessToken) {\r\n          window.localStorage.setItem(\"email\",email)\r\n          window.localStorage.setItem(\"token\", data.accessToken);\r\n          window.localStorage.setItem(\"loggedIn\", true);\r\n                \r\n          toast({\r\n            title: \"Login Successful\",\r\n            description: \"You have successfully logged in.\",\r\n            status: \"success\",\r\n            duration: 5000,\r\n            isClosable: true,\r\n          });\r\n\r\n          window.location.href = \"/\";\r\n\r\n        }\r\n        else{\r\n           alert(\"user not found\")\r\n        }\r\n        \r\n      }).catch(err=>{console.log(err)});\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-wrapper\">\r\n      <div className=\"auth-inner\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h3>Sign In</h3>\r\n\r\n          <div className=\"mb-3\">\r\n            <label>Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <div className=\"custom-control custom-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"custom-control-input\"\r\n                id=\"customCheck1\"\r\n              />\r\n              <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n                Remember me\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-grid\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n          <p className=\"forgot-password text-right\">\r\n            <p>Don't Have Account - <a href=\"/register\">Sign Up</a></p>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,oBAAoB,CAC3B,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAW,KAAK,CAAGV,QAAQ,CAAC,CAAC,CAExB,QAAS,CAAAW,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBC,OAAO,CAACC,GAAG,CAACT,KAAK,CAAEE,QAAQ,CAAC,CAC5BQ,KAAK,CAAC,mCAAmC,CAAE,CACzCC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,IAAI,CACjBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,MAAM,CAAE,kBAAkB,CAC1B,6BAA6B,CAAE,GACjC,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBjB,KAAK,CACLE,QACF,CAAC,CACH,CAAC,CAAC,CACCgB,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAK,CACdb,OAAO,CAACC,GAAG,CAACY,IAAI,CAAE,cAAc,CAAC,CACjC,GAAIA,IAAI,CAACC,WAAW,CAAE,CACpBC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAACzB,KAAK,CAAC,CAC1CuB,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,IAAI,CAACC,WAAW,CAAC,CACtDC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,IAAI,CAAC,CAE7CrB,KAAK,CAAC,CACJsB,KAAK,CAAE,kBAAkB,CACzBC,WAAW,CAAE,kCAAkC,CAC/CC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CAEFP,MAAM,CAACQ,QAAQ,CAACC,IAAI,CAAG,GAAG,CAE5B,CAAC,IACG,CACDC,KAAK,CAAC,gBAAgB,CAAC,CAC1B,CAEF,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAE,CAAC3B,OAAO,CAACC,GAAG,CAAC0B,GAAG,CAAC,EAAC,CAAC,CACrC,CAEA,mBACEvC,IAAA,QAAKwC,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BzC,IAAA,QAAKwC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBvC,KAAA,SAAMwC,QAAQ,CAAEjC,YAAa,CAAAgC,QAAA,eAC3BzC,IAAA,OAAAyC,QAAA,CAAI,SAAO,CAAI,CAAC,cAEhBvC,KAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzC,IAAA,UAAAyC,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5BzC,IAAA,UACE2C,IAAI,CAAC,OAAO,CACZH,SAAS,CAAC,cAAc,CACxBI,WAAW,CAAC,aAAa,CACzBC,QAAQ,CAAGnC,CAAC,EAAKL,QAAQ,CAACK,CAAC,CAACoC,MAAM,CAACC,KAAK,CAAE,CAC3C,CAAC,EACC,CAAC,cAEN7C,KAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzC,IAAA,UAAAyC,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBzC,IAAA,UACE2C,IAAI,CAAC,UAAU,CACfH,SAAS,CAAC,cAAc,CACxBI,WAAW,CAAC,gBAAgB,CAC5BC,QAAQ,CAAGnC,CAAC,EAAKH,WAAW,CAACG,CAAC,CAACoC,MAAM,CAACC,KAAK,CAAE,CAC9C,CAAC,EACC,CAAC,cAEN/C,IAAA,QAAKwC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBvC,KAAA,QAAKsC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CzC,IAAA,UACE2C,IAAI,CAAC,UAAU,CACfH,SAAS,CAAC,sBAAsB,CAChCQ,EAAE,CAAC,cAAc,CAClB,CAAC,cACFhD,IAAA,UAAOwC,SAAS,CAAC,sBAAsB,CAACS,OAAO,CAAC,cAAc,CAAAR,QAAA,CAAC,aAE/D,CAAO,CAAC,EACL,CAAC,CACH,CAAC,cAENzC,IAAA,QAAKwC,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBzC,IAAA,WAAQ2C,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,QAElD,CAAQ,CAAC,CACN,CAAC,cACNzC,IAAA,MAAGwC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACvCvC,KAAA,MAAAuC,QAAA,EAAG,uBAAqB,cAAAzC,IAAA,MAAGoC,IAAI,CAAC,WAAW,CAAAK,QAAA,CAAC,SAAO,CAAG,CAAC,EAAG,CAAC,CAC1D,CAAC,EACA,CAAC,CACJ,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}